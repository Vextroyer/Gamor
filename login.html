<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gamor</title>
    <link rel="icon" href="image/favicon.ico">
    <link rel="stylesheet" href="styles/login.css">
</head>

<body>
    <main>
        <form action="HelloWorld.html" onsubmit="return ValidateLogin()" target="_blank">
            <label for="fusername">User</label>
            <input type="text" name="fusername" id="fusername" required>
            <label for="fpassword">Password</label>
            <input type="password" name="fpassword" id="fpassword" required>
            <input type="submit" value="Log in" style="display:block;margin: 10px auto;">
        </form>
    </main>

    <script>
        function ValidateLogin(){
            //Retrieve user input, non empty due to `required` attribute
            let pass = document.getElementById("fpassword").value;
            let user = document.getElementById("fusername").value;
            
            //Hard-coded usernames and passwords
            let loginData = new Map([
                ["admin","admin"],
                ["sudo","sudo"],
                ["super","base"]
            ])

            if(loginData.has(user) && loginData.get(user) === pass){
                return true;
            }
            
            //Check if user is registered 
            let registerData = new Map(JSON.parse(sessionStorage.getItem("registerData")));
            if(registerData.has(user) && registerData.get(user) === pass)return true;

            alert("Incorrect username or password");
            return false;
        }
    </script>
</body>

</html>